# Environment Template - Copy to .env and fill in values
# IMPORTANT: Never commit actual API keys or passwords to version control!
# Sensitive values should be stored in /etc/cbthis/env

# Environment
NODE_ENV=production
PORT=3000

# API Keys - Store actual keys in /etc/cbthis/env
OPENAI_API_KEY=
GEMINI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_MAPS_API_KEY=
VITE_GOOGLE_MAPS_API_KEY=

# Redis - Store password in /etc/cbthis/env
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
ENABLE_CACHE=true
CACHE_TTL=3600000

# Rate Limiting
ENABLE_RATE_LIMIT=true
RATE_LIMIT_MAX=60
RATE_LIMIT_WINDOW=60000

# Logging (Gateway)
# Enable gateway analytics/chat logging and set stable log level
ENABLE_LOGGING=true
LOG_LEVEL=info
LOG_DIR=/var/log/cbthis

# RAG Service
RAG_SERVICE_URL=http://localhost:8000

# RAG Metrics (Gateway -> RAG)
# Optional bearer token forwarded to RAG metrics endpoint
RAG_METRICS_TOKEN=
# Gateway cache TTL for metrics (ms)
PERFORMANCE_METRICS_CACHE_MS=5000
RAG_METRICS_TIMEOUT_MS=7000

# Production URLs
VITE_API_BASE_URL=https://32cbgg8.com
CANADA_CA_URL=https://www.canada.ca/en/department-national-defence/services/benefits-military/pay-pension-benefits/benefits/canadian-forces-temporary-duty-travel-instructions.html

# LLM Pool Configuration
RAG_ENABLE_LLM_POOL=true
RAG_LLM_POOL_HEALTH_CHECKS=true
RAG_LLM_POOL_WARMUP=true
RAG_LLM_POOL_MIN_CONNECTIONS=2

# Streaming/TTFT Controls (RAG)
# Fast initial retrieval + expand for better TTFT
RAG_ENABLE_STREAMING_RETRIEVAL=true
# Delayed head streaming (phase 1 quick retrieval)
RAG_DELAYED_STREAMING_ENABLED=true
RAG_DELAYED_STREAMING_PHASE1_TIMEOUT=0.15
RAG_DELAYED_STREAMING_PHASE1_K=8
RAG_DELAYED_STREAMING_UNCERTAINTY_THRESHOLD=0.8

# Query Logging & Encryption (RAG)
RAG_ENABLE_QUERY_LOGGING=true
RAG_ENCRYPT_QUERY_LOGS=true
# Provide either RAG_ENCRYPTION_KEY (base64 fernet key) or RAG_ENCRYPTION_KEY_PATH
RAG_ENCRYPTION_KEY=
RAG_ENCRYPTION_KEY_PATH=/etc/cbthis/rag-encryption.key
